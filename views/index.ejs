<%- include('partials/header.ejs') %>

    <!-- <div class="banner-text">
    <h1>Heading</h1>
    <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. 
        Quaerat voluptate error repellat? Error et voluptas culpa, 
        rem labore quod omnis voluptatum deleniti reprehenderit quos 
        odit alias minus itaque, dicta commodi.</p>
</div> -->
    <div class="jumbotron"
        style=" text-align: center; text-align: center;  margin:10%; padding: 5%;">
        <div>
            
            <div><img id="news_image" height="auto" width="80%" class="shadow-sm p-3 mb-5 bg-white rounded"></div>
            <div style="margin: 40px;">
                <h4 id="Headline"></h4>
            </div>
            <div id="content"></div>

        </div>
        <script>
            var cur_content, cur_headline, page_no = 0, whole, Article_Link;
            fetch('https://newsapi.org/v2/top-headlines?country=in&apiKey=994193f31b7849e69ac77c6e2075996a')
                .then(function (response) {
                    return response.json();
                })
                .then(function (data) {
                    whole = data;
                    console.log(data);
                    Display();
                })
                .catch(function (err) {
                    console.log(err);
                });
            function Display() {
                // console.log(whole.articles[page_no].url);
                Article_Link = whole.articles[page_no].url;
                // Article_Link=whole.articles[page_no]
                var mainContainer = document.getElementById("Headline");
                mainContainer.innerText = whole.articles[page_no].title;
                mainContainer = document.getElementById("content");
                mainContainer.innerText = whole.articles[page_no].content;
                document.getElementById("news_image").src=whole.articles[page_no].urlToImage;
            }
            function Previous() { if (page_no > 0) page_no -= 1; Display(); }
            function Next() { page_no += 1; Display(); }
        </script>
        <div class="col-lg-12">
            <!-- <button type="button" class="btn btn-primary m-3" id="source" onclick="Previous()">Read Full Article</button> -->
            <!-- <a href=Article_link class="btn btn-primary">Go to Google</a> -->
             <a class="btn btn-primary m-3" href="" onclick="location.href=Article_Link;" target="_blank"> Read Full Article </a>
        </div>
        <div class="col-lg-12">
            <button type="button" class="btn btn-primary m-3" onclick="Previous()">Previous</button>
            <button type="button" class="btn btn-primary m-3" onclick="">Report Fake</button>
            <button type="button" class="btn btn-primary m-3" onclick="Next()">Next</button>
        </div>
    </div>
    </div>


    <br><br>
    <%- include('partials/footer.ejs') %>